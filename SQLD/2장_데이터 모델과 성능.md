### 성능 데이터모델링
- 데이터의 증가가 빠를수록 성능저하에 따른 성능 개선비용은 증가한다.
- 데이터모델은 성능을 튜닝하면서 변경이 될 수 있는 특징이 있다.
- 분석, 설계 단계에서 성능을 고려한 데이터모델링을 수행할 경우 성능저하에 따른 rework비용을 최소화 할 수 있는 기회를 가지게 된다
- 분석/설계 단계에서 데이터베이스 처리 성능을 향상 시킬 수 있는 방법을 주도 면밀하게 고려해야 한다.
- 프로젝트 초기에 운영환경에 대비한 테스트 환경을 구현하고 그곳에 트랜잭션을 발생시켜 실제 성능을 테스트해 봐야한다.

### 성능 데이터 모델링 수행 절차
1. 데이터모델링을 할 떄 **정규화**를 정확하게 수행
2. 데이터베이스 **용량산정** 수행
3. 데이터베이스에 발생되는 **트랜잭션의 유형** 파악
4. 용량과 트랜잭션의 유형에 따라 **반정규화** 수행
5. **이력모델, PK.FK, 슈퍼타입/서브타입 조정** 등을 수행
6. 성능관점에서 **데이터모델을 검증**

### 성능데이터 모델링 고려사항
- **용량산정**은 전체적인 데이터베이스에 발생되는 **트랜잭션의 유형과 양을 분석**하는 자료가 되므로 성능데이터 모델링을 할 때 중요한 작업이 될 수 있다.
- 물리적인 데이터 모델링을 할 때 PK/FK의 칼럼의 순서조정, FK 인덱스 생성 등은 성능 향상을 위한 데이터 모델링 작업에 중요한 요소가 된다.
- 이력데이터는 시간에 따라 반복적으로 발생되기 때문에 대량 데이터일 가능성이 높아 특별히 성능을 고려하여 칼럼 등을 추가하도록 설계해야 한다.
- 데이터 모델링의 정규화는 중복된 데이터를 제거함으로써 조회성능을 향상시킬 수 있다.

### 정규화
- 1차 정규화
  - 칼럼에 의한 반복적인 속성값을 갖는 형태 제거
  - 중복된 데이터 제거
  - 1:M 관계로 두 개의 엔티티로 분리
- 2차 정규화
- 함수종속성의 규칙에 따라 PK인 엔티티가 2차 정규화로 분리
- PK 함수종속성 제거
- 주식별자 중 일부로부터 독립했기 때문에 1:M 관계로 연결된다

### 동일한 유형의 속성이 칼럼단위로 반복되는 경우
- 속성의 원자성을 위배한 제 1차 정규화의 대상이 된다.
- 어느 하나의 속성이라도 인덱스가 정의되어 있지 않을 경우
  -> 'or'로 연결된 모든 조건들이 인덱스를 사용하지 않고 한 번의 전체 데이터 스캔으로 처리가 되어 성능 저하가 나타난다.
- 모든 반복 속성에 인덱스를 생성하게 되는 경우
  -> 검색 속도는 좋아지겠지만, 너무 많은 인덱스로 입력+수정+삭제의 성능이 저하됨
 
 ### 반정규화를 고려할 때 판단요소
 - 반정규화 정보에 대한 재현의 적시성으로 판단한다.
  - ex. 빌링의 잔액은 다수 테이블에 대한 다량의 조인이 불가피하므로 데이터 제공의 적시성 확보를 위한 필수 반정규화 대상 정보이다.
 - 다량의 데이터 탐색의 경우, 인덱스가 아닌 다양한 물리 저장 기법을 활용하여 성능 개선을 유도한다.
  - ex. 파티션 및 데이터 클러스팅. *단 반복적인 과정이 빈번하게 나타날시 반정규화 고려하는 것이 좋다.
 - 이전 또는 이후 위치의 레코드에 대한 탐색은 window function으로 접근이 가능하다.
 - 집계 테이블 이외에서 다양한 유형에 대하여 반정규화 테이블 적용이 필요할 수 있다.
  - ex. 다수 테이블의 키 연결 테이블 등
  
  ### 반정규화 기법
  - 테이블, 속성, 관계에 대해서 반정규화를 적용할 수 있다.
  - 테이블추가 반정규화 기법 중 부분테이블 추가
    - 하나의 테이블의 전체 칼럼 중 자주 이용하는 집중화된 칼럼들이 있을 때, 디스크 I/O를 줄이기 위해 해당 칼럼들을 별도로 모아 놓는 정규화 기법
   
