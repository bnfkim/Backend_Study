# 1️⃣ 데이터 모델링의 이해

### 모델링 세가지 요소

1. Things → 업무가 관여하는 어떤 것
2. Attributes → 어떤 것이 가지는 성격
3. Relationship → 업무가 관여하는 어떤 것의 관계

### 모델링의 특징

- 현실세계를 일정한 형식에 맞추어 표현 → `추상화`
- 복잡한 현실을 제한된 언어나 표기법을 통해 쉬운 이해 → `단순화`
- 누구나 이해 가능+ 정확하게 현상 기술 → `정확화`

### 모델링 목적

- 일정한 표기법에 의해 표현함으로써 → **해당 업무 내용을 정확하게 분석**
- 분석된 모델을 바탕으로 데이터베이스를 구축함으로써 → **개발 및 데이터관리에 사용**

### 모델링 유의점

- 중복 Duplication
    - 여러 장소의 데이터베이스에 같은 정보를 저장하지 않도록 중복성 최소화
- 비유연성 Inflexibility
    - **데이터의 정의**를 **데이터 사용 프로세스**와 분리하여 유연성을 높임
- 비일관성 Inconsistency
    - 데이터간 상호 연관관계를 명확하게 정의하여 일관성 유지

### 모델링 단계

- 개념적 모델링
    - **업무 전체에 대해 데이터 모델링 수행하는 단계**
    - 추상화 수준이 높음 + 업무중심적 + 포괄적인 수준의 모델링
    - 전사적 데이터 모델링, EA 수립 시 많이 이용
- 논리적 모델링
    - 개념적 모델링을 논리적으로 변환하는 단계
    - 정규화를 통해 데이터 모델의 독립성 확보
    - key, Attribute, Relationship 등을 모두 표현
- 물리적 모델링
    - Table, Index, Function 등을 생성하는 단계
    - **성능, 보안, 가용성 등 물리적인 측면을 고려**

### **데이터 모델링 관점**

| 데이터 | 비즈니스 프로세스에서 사용되는 데이터를 의미업무가 어떤 데이터와 관련이 있는지 또는 데이터간의 관계는 무엇인지에 대해서 모델링하는 방법    → 구조 분석, 정적 분석 |
| --- | --- |
| 프로세스 | 비즈니스 프로세스에서 수행하는 작업을 의미업무가 실제하고 있는 일은 무엇인지 또는 무엇을 해야 하는지를 모델링하는 방법시나리오 분석, 도메인 분석, 동적 분석 |
| 데이터와 프로세스 | 프로세스와 데이터 간의 관계를 의미업무가 처리하는 일의 방법에 따라 데이터는 어떻게 영향을 받고 있는지 모델링하는 방법CRUD[Create, Read, Update, Delete] 분석 |

### **좋은 데이터 모델 요소**

| 완전성 | 업무에 필요한 모든 데이터가 정의되어 있어야 한다. |
| --- | --- |
| 중복배제 | 하나의 데이터베이스에 동일한 데이터가 없어야 한다.    → 중복시 저장공간 낭비 |
| 업무규칙 | 업무에 사용되는 규칙들을 데이터 모델에 표현해야 함    → 모든 사용자가 해당 규칙에 대해 동일하게 판단하고 데이터 조작 가능 |
| 데이터 재사용 | 통합성[회사 전체 관점에서 설계]과 독립성[데이터가 Application에 독립적으로 설계]을 고려최근에는 확장성을 강조하기 위해 많은 부분을 통합한 데이터 모델의 형태를 가짐 |
| 의사소통 | 주어진 업무를 데이터 관점에서 분석하고 설계한 데이터 모델은 의사소통을 위해 분석과정에서 도출되는 업무 규칙을 최대한 자세히 표현해야 함 |
| 통합성 | 공통 데이터를 도출하고 이를 전 영역에서 사용하기 적절한 통합된 형태로 설계    → 통합데이터 모델은 데이터 재사용성을 향상시킴 |

### ERD

- 1976년 Peter Chen이 만든 Entity Relationship Model 표기법
- `Entity`와 `Entity 간의 관계`를 정의하는 모델링 방법
- 사실상의 데이터 모델링 표준
- 복잡하지 않고 이해하기 쉬워야 함

### ERD 작성순서

1. Entity 도출 → 고객의 업무 프로세스에서 관리가 필요한 정보를 추출
1. Entity 배치 → 중요한 Entity는 가급적 왼쪽 상단에 배치
2. Entity 간 관계 설정
3. 관계명 기술
4.  관계 참여도 표현
5. 관계의 필수 여부 표현

## 3층 스키마(3-level schema)

### 스키마 정의

- 테이블, 뷰 등의 데이터베이스 객체들의 집합

### 스키마 구조

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b49945af-159e-4a62-beb5-075a0e011fbe/Untitled.png)

- 외부 스키마
    - 사용자 관점
    - 업무상 관련이 있는 데이터 접근
    - 응용 프로그램이 접근하는 데이터베이스를 정의
    - 관련 데이터베이스의 뷰 표시
- 개념 스키마
    - 설계자 관점
    - 모든 사용자의 관점을 통합한 조직 전체 관점 ⇒ 통합 데이터베이스 구조
    - 데이터베이스 규칙과 구조 표현
- 내부 스키마
    - 개발자 관점
    - 데이터베이스 물리적 저장구조 표현

⚠️ 스키마를 사용하는 이유 : 데이터베이스의 독립성 확보를 위해

# 2️⃣ 엔터티

### 엔티티 의미

- 업무에서 필요로 하는 인스턴스를 관리하는 데이터들의 집합
- 더이상 분리되지 않는 최소의 데이터 단위

### 엔터티의 특징

1. 반드시 해당 업무에서 필요한 정보의 집합
2. `업무 프로세스`에 의해 `이용`되어야 함
3. `유일한 식별자`가 있어야 함
4. `두 개 이상의 인스턴스` 필요
5. 반드시 `속성`이 있어야 함
6. 다른 엔터티와 최소 `한개 이상의 관계`가 있어야 함

### 엔티티 종류

- 발생시점에 따른
    - `기본 엔티티` : 다른 엔티티로부터 영향을 받지 않고 독립적으로 생성
    - `중심 엔티티` : 기본 엔티티로부터 발생되고 행위 엔티티를 생성
    - `행위 엔티티` : 2개 이상의 엔티티로부터 발
- 유형과 무형에 따른
    - `유형 엔티티` : 업무에서 도출 + 지속적으로 사용되는 엔티티, 물리적 형태 있음
    - `개념 엔터티` : 개념적으로 사용되는 엔티티, 물리적 형태 없음
    - `사건 엔티티` : 비즈니스 프로세스를 싱행하면서 생성되는 엔티티

### 엔티티 명명법

1. 협업 업무에서 사용하는 용어 사용
2. 약어 사용은 가급적 제한
3. 단수 명사 사용
4. 유일한 이름 부여
5. 생성 의미대로 이름 부여

# 3️⃣ 속성

### 속성 의미

- 엔티티에 대한 자세하고 구체적인 정보
- 의미적으로 더 이상 분리되지 않는 데이터의 최소 단위

### 속성 특징

- 속성도 집합의 일종
    - 하나의 엔티티는 두 개 이상의 속성을 가짐
- 속성은 하나의 값
    - 하나의 인스턴스에서 각각의 속성은 한 개의 속성을 가져야함

⚠️ 한 개의 엔터티 → 두 개 이상의 인스턴스 집합 & 두 개 이상의 속성

⚠️ 한 개의 속성 → 한 개의 속성값

### 속성 종류

- 분해 여부에 따라
    - `단일 속성` : 하나의 의미로 구성 (ex> 회원ID, 이름)
    - `복합 속성` : 여러 개의 의미로 구성 (ex> 주소)
    - `다중값 속성` : 여러 개의 값 가질 수 있음 (ex> 상품 리스트)
- 특성에 따라
    - `기본 속성` : 비즈니스 프로세스에서 도출되는 본래 속성 (ex> 원금, 이자율, 예치기간)
    - `설계 속성` : 데이터 모델링 과정에서 발생되는 속성 (ex> 예금 코드, 상품 코드)
    - `파생 속성` : 다른 속성에 의해 만들어지는 속성 (ex> 이자, 소계, 합계, 평균)
- 엔터티 구성방식에 따라
    - PK 속성 : 엔티티를 식별할 수 있는 속성
    - FK 속성 : 다른 엔티티와의 관계에 포함된 속성
    - 일반 속성

### 도메인

- 속성이 가질 수 있는 값의 범위
- 테이터 타입, 크기, 제약사항 지정

# 4️⃣ 관계

### 관계 표기법

- `관계명` : 관계의 이름
- `관계차수` : 1:1, 1:M, M:N
- `관계선택사항` : 필수 관계, 선택관계
    - 필수적인 관계 : `|`
    - 선택적인 관계 : `o`

### 관계 종류

- `존재 관계`
    - 두 개의 엔티티가 **존재 여부**의 관계가 있는 것
    - ex> 부서와 사원 엔티티 간의 ‘소속’ 관계
- `행위 관계`
    - 두 개의 엔티티가 **어떤 행위**에 의한 관련성이 있는 것
    - ex> 주문과 배송 엔티티 간의 ‘배송근거’ 관계

⚠️ ERD → 관계를 연결할 때 존재와 행위를 구분하지 않고 단일화된 표기법 사용

⚠️ UML → 연관관계(실선)와 의존관계(점선)에 대해 다른 표기법 사용

### 관계 체크 고려사항

1. 두 개의 엔터티 사이에 **관심 있는 `연관규칙`이 존재하는가?**

2. 두 개의 엔터티 사이에 **`정보의 조합`이 발생되는가?**

3. 업무기술서, 장표에 관계연결을 가능하게 하는 **`동사`가 있는가?**

4. 업무기술서, 장표에 관계연결에 대한 **`규칙`이 서술되어 있는가?**

### **식별관계와 비식별관계**

| 식별 관계[Identification Relationship] | * 부모 테이블의 기본키가 자식 테이블의 기본키로 전이되는 관계    → ERD에서 실선으로 표시* 부모가 자식의 모든 정보를 저장[기본키를 공유받은 관계]* 식별자 관계만으로 연결될 경우, 주식별자 속성이 지속적으로 증가하여 복잡성과 오류 가능성을 유발* 강한 연결관계 표현    ex> 고객과 계좌 엔터티에서              고객은 독립적으로 존재할 수 있는 강한 개체[Strong Entity]              계좌 엔터티는 약한 개체[Weak Entity]    → 강한 개체는 어떤 다른 엔터티에게 의존하지 않고 독립적으로 존재    → 강한 개체는 다른 엔터티와 관계를 가질 때 다른 엔터티에게 기본키를 공유    → 강한 개체는 식별 관계로 표현    → 강한 개체의 기본키 값 변경 시, 식별 관계에 있는 엔터티 값도 변경됨 |
| --- | --- |
| 비식별 관계[Non - Identification Relationship] | * 부모테이블의 기본키가 자식테이블의 일반 속성으로 전이되는 관계    → ERD에서 점선으로 표시* 부모가 자식의 부분적인 정보를 저장[독립적인 기본키를 가짐]    → 부모엔터티에 참조값이 없어도 자식엔터티의 인스턴스가 생성될 수 있음* 비식별 관계만으로 연결될 경우, 불필요한 조인이 다량으로 유발* 약한 연결관계 표현    ex> 관리점 엔터티의 기본키인 지점코드는 고객 엔터티와 비식별 관계를 가짐               지점 코드는 고객 엔터티의 기본키가 아닌 일반 칼럼으로 참조 |

# 5️⃣ 식별자

하나의 엔티티를 구성하는 여러 속성 중 엔티티를 대표할 수 있는 유일성을 만족하는 속성

### 식별자 종류

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7f42eb08-c9d6-4eaf-af91-a9b3fb39b6b7/Untitled.png)

- 대표성 여부
    - `주식별자` : 유일성 O +  최소성 O + 대표성 O
    - `보조식별자` : 유일성 O +  최소성 O + 대표성 X
- 스스로 생성 여부
    - `내부식별자` : 엔티티 내부에서 스스로 생성
    - `외부식별자` : 다른 엔티티와의 관계로 생성
- 단일 속성 여부
    - `단일식별자` : 하나의 속성
    - `복합식별자` : 두 개 이상의 속성
- 대체 여부
    - `본질식별자` : 비즈니스 프로세스에 의해 생성
    - `인조식별자` : 최대한 범용적인 값을 사용해 인위적으로 생성

### 주식별자 특징

- 최소성 : 속성의 수는 유일성을 만족하는 최소의 수를 가짐
- 대표성 : 엔티티를 대표할 수 있음
- 불변성 : 주식별자의 값은 변하지 않아야 함
- 유일성 : 엔티티의 모든 인스턴스를 유일하게 식별

### 주식별자 참고사항

- 해당 업무에서 자주 이용되는 속성은 주식별자로 지정
- 이름으로 기술되는 것은 피함
- 복합으로 구성할 경우 너무 많은 속성 구성은 피함
